<!-- Header-->
<header class="top-bar d-flex justify-content-between align-items-center px-3 shadow-sm bg-white fixed-top"
  [class.sidebar-collapsed-header]="!sidebarOpen">
  <!--  toggle button -->
  <button class="toogle-btn" (click)="toggleSidebar()" aria-label="Toggle sidebar">
    <i class="bi-list"></i>
  </button>

  <div class="d-flex align-items-center gap-3">
    <!-- Theme Toggle Button -->
    <button class="btn btn-light theme-toggle-btn" (click)="toggleTheme()" 
            [attr.aria-label]="isDarkMode ? 'Switch to light mode' : 'Switch to dark mode'">
      <i class="bi" [class.bi-moon-stars]="!isDarkMode" [class.bi-sun]="isDarkMode"></i>
    </button>

<!-- Chat -->
<button class="icon-btn chat" [routerLink]="['/handyman/chatlist']" aria-label="Go to Chat">
  <i class="bi bi-chat-dots-fill"></i>
</button>

<!-- Notifications -->
<div class="dropdown">
 
    <app-handyman-notifications></app-handyman-notifications>
   
</div>


 
  <!-- user prfile -->
    <div class="dropdown">
      <button class="btn btn-light dropdown-toggle p-0 border-0 rounded-circle" type="button" data-bs-toggle="dropdown"
        aria-expanded="false" style="width: 40px; height: 40px; overflow: hidden;">
        <!-- add photo here -->
        <img [src]="imgsrc" alt="User profile" class="rounded-circle"
          style="width: 40px; height: 40px; object-fit: cover;" /> 
      </button>
      <ul class="dropdown-menu dropdown-menu-end shadow">
        <li><a class="dropdown-item" routerLink="/admin/profile"><i class="bi bi-person me-2"></i>Profile</a></li>
        <li><button class="dropdown-item" (click)="logout()"><i class="bi bi-box-arrow-right me-2"></i>Logout</button>
        </li>
      </ul>
    </div>
  </div>
</header>

<!-- Sidebar -->
<div class="sidebar d-flex flex-column" [class.sidebar-collapsed]="!sidebarOpen">
  <h3 class="text-white mb-4">OstaFandy</h3>

  <div class="sidebar-section">
    <h6>Main</h6>
    <a routerLink="/handyman/dashboard" routerLinkActive="active" class="nav-link"
      [routerLinkActiveOptions]="{ exact: true }">
      <i class="bi bi-speedometer2 me-2"></i>Dashboard
    </a>

  </div>

  <div class="sidebar-section">
   <h6>Work</h6>
    <a routerLink="/handyman/alljobs" routerLinkActive="active" class="nav-link">
      <i class="bi bi-briefcase me-2"></i>All Jobs
    </a>
    <a routerLink="/handyman/quotes" routerLinkActive="active" class="nav-link">
      <i class="bi bi-receipt-cutoff me-2"></i>Quotes 
    </a>
    <a routerLink="/handyman/profile" routerLinkActive="active" class="nav-link">
      <i class="bi bi-person-circle me-2"></i>Profile
    </a>

    <a routerLink="/handyman/blockdate" routerLinkActive="active" class="nav-link">
      <i class="bi bi-receipt-cutoff me-2"></i>vacation
    </a>
    <!-- <a routerLink="/admin/booking" routerLinkActive="active" class="nav-link">
      <i class="bi bi-calendar-x"></i>Leave Requests
    </a> -->

</div>
</div>

<!-- Main content -->
<div class="main-content" [class.sidebar-collapsed-main]="!sidebarOpen">
  
  <router-outlet></router-outlet>
   
</div>